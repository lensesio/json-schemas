{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Kafka Connector Producer Overrides",
  "type": "object",
  "properties": {
    "producer.override.bootstrap.servers": {
      "type": "string",
      "description": "Kafka bootstrap servers for the connector's producer"
    },
    "producer.override.key.serializer": {
      "type": "string",
      "description": "Fully qualified class name for key serializer"
    },
    "producer.override.value.serializer": {
      "type": "string",
      "description": "Fully qualified class name for value serializer"
    },
    "producer.override.acks": {
      "type": "string",
      "enum": ["0", "1", "all"],
      "description": "The number of acknowledgments the producer requires from the broker"
    },
    "producer.override.compression.type": {
      "type": "string",
      "enum": ["none", "gzip", "snappy", "lz4", "zstd"],
      "description": "Compression type for all data generated by the producer"
    },
    "producer.override.security.protocol": {
      "type": "string",
      "enum": ["PLAINTEXT", "SSL", "SASL_PLAINTEXT", "SASL_SSL"],
      "description": "Kafka client security protocol"
    },
    "producer.override.sasl.mechanism": {
      "type": "string",
      "enum": ["PLAIN", "SCRAM-SHA-256", "SCRAM-SHA-512", "GSSAPI", "OAUTHBEARER"],
      "description": "SASL authentication mechanism"
    },
    "producer.override.sasl.jaas.config": {
      "type": "string",
      "description": "JAAS configuration string for SASL authentication"
    },
    "producer.override.ssl.truststore.location": {
      "type": "string",
      "description": "Path to the truststore file"
    },
    "producer.override.ssl.truststore.password": {
      "type": "string",
      "description": "Password for the truststore file"
    },
    "producer.override.ssl.keystore.location": {
      "type": "string",
      "description": "Path to the keystore file"
    },
    "producer.override.ssl.keystore.password": {
      "type": "string",
      "description": "Password for the keystore"
    },
    "producer.override.ssl.key.password": {
      "type": "string",
      "description": "Password for the private key in the keystore"
    }
  },
  "additionalProperties": true,

  "defaultSnippets": [
    {
      "label": "Producer Overrides: SASL/PLAIN over SASL_SSL",
      "description": "SASL/PLAIN authentication using SASL_SSL protocol",
      "body": {
        "producer.override.security.protocol": "SASL_SSL",
        "producer.override.sasl.mechanism": "PLAIN",
        "producer.override.sasl.jaas.config": "org.apache.kafka.common.security.plain.PlainLoginModule required username=\"user\" password=\"pass\";"
      }
    },
    {
      "label": "Producer Overrides: SASL/SCRAM-SHA-512 over SASL_SSL",
      "description": "SCRAM-SHA-512 authentication using SASL_SSL protocol",
      "body": {
        "producer.override.security.protocol": "SASL_SSL",
        "producer.override.sasl.mechanism": "SCRAM-SHA-512",
        "producer.override.sasl.jaas.config": "org.apache.kafka.common.security.scram.ScramLoginModule required username=\"user\" password=\"pass\";"
      }
    },
    {
      "label": "Producer Overrides: Kerberos (GSSAPI) with SASL_PLAINTEXT",
      "description": "GSSAPI/Kerberos authentication using SASL_PLAINTEXT",
      "body": {
        "producer.override.security.protocol": "SASL_PLAINTEXT",
        "producer.override.sasl.mechanism": "GSSAPI",
        "producer.override.sasl.jaas.config": "com.sun.security.auth.module.Krb5LoginModule required useKeyTab=true keyTab=\"/path/to/keytab\" principal=\"user@REALM.COM\";"
      }
    },
    {
      "label": "Producer Overrides: SSL Only",
      "description": "SSL encryption without SASL authentication",
      "body": {
        "producer.override.security.protocol": "SSL",
        "producer.override.ssl.truststore.location": "/etc/kafka/secrets/kafka.truststore.jks",
        "producer.override.ssl.truststore.password": "changeit",
        "producer.override.ssl.keystore.location": "/etc/kafka/secrets/kafka.keystore.jks",
        "producer.override.ssl.keystore.password": "changeit",
        "producer.override.ssl.key.password": "changeit"
      }
    }
  ]
}
